# XWall 使用手册

## 📝 详细使用流程

### 1. 📩 投稿接收阶段
- 用户通过 QQ 私聊机器人发送投稿内容（文字+图片）
- 系统自动创建投稿记录，状态设置为 `PENDING`
- 等待 2 分钟接收用户可能的补充消息，智能合并相关内容

### 2. 🤖 AI 智能处理阶段  
- 状态更新为 `PROCESSING`，开始 AI 处理管道
- **LLM 分析**：安全审核、匿名判断、完整性检查
- **图片处理**：压缩优化、安全检查、生成描述
- **内容优化**：提取链接、格式规范化

### 3. 🎨 内容渲染阶段
- **HTML 生成**：使用 Jinja2 模板生成美观的 HTML 内容
- **图片渲染**：使用 Playwright 将 HTML 渲染为高质量图片
- **水印添加**：添加墙标识和水印信息
- 处理完成后状态更新为 `WAITING`

### 4. 👨‍💼 审核管理阶段
- 系统自动发送审核请求到管理群
- 管理员可使用丰富的审核指令：
  - `是`：通过审核，加入暂存区
  - `否`：跳过本次发布
  - `匿`：切换匿名/实名状态  
  - `拒`：拒绝并通知投稿者
  - `立即`：立即发布（跳过定时）
  - `重渲染`：重新渲染内容

### 5. 🚀 自动发布阶段
- **定时发布**：根据配置的时间点自动发布暂存区内容
- **多平台同步**：同时发布到 QQ 空间、B站、小红书等平台
- **状态跟踪**：发布成功后状态更新为 `PUBLISHED`，记录详细日志

### 6. 📊 后续管理
- 用户可通过私聊指令查询投稿状态
- 支持对已发布内容追加评论
- 管理员可进行投稿删除、用户拉黑等操作

## 📱 用户操作指南

### 私聊指令
- `#删除`：删除自己的投稿
- `#评论 <内容>`：对已发布内容追加评论
- `#状态`：查询投稿状态

### 投稿格式
- 直接发送文字+图片即可
- 支持多条消息自动合并
- 图片会自动压缩和优化

## 👨‍💼 管理员操作指南

详细的管理员指南请参考 [管理员指南](admin-guide.md)。
